DROP TABLE FUNCIONARIO;
DROP TABLE MOTORISTA;
DROP TABLE SERVICO;
DROP TABLE MULTA;
DROP TABLE VEICULO;
DROP TABLE ABASTECIMENTO;
DROP TABLE OFICINA;
DROP TABLE MANUTENCAO;
DROP TABLE POSTO;


CREATE TABLE FUNCIONARIO (
ID_FUNCIONARIO NUMBER(5) NOT NULL, 
NOME VARCHAR2(50) NOT NULL,
CPF VARCHAR2(15) NOT NULL, 
LOGIN VARCHAR2(10) NOT NULL,
SENHA NUMBER(10) NOT NULL,
PRIMARY KEY (ID_FUNCIONARIO));

CREATE TABLE MOTORISTA (
CNH NUMBER(20) NOT NULL, 
EXAME VARCHAR2 (40) NOT NULL,
SERVICO NUMBER(5) NOT NULL,
ID_FUNCIONARIO NUMBER(5) NOT NULL, 
RENAVAN NUMBER(15)NOT NULL,
PRIMARY KEY (CNH),
FOREIGN KEY (ID_FUNCIONARIO)REFERENCES FUNCIONARIO);


CREATE TABLE SERVICO(
ID_SERVICO NUMBER(5) NOT NULL,
MOTIVO VARCHAR2(50) NOT NULL,
LOCALIDADE VARCHAR2(50) NOT NULL,
CNH NUMBER(20) NOT NULL,
PRIMARY KEY (ID_SERVICO),
FOREIGN KEY (CNH) REFERENCES MOTORISTA);



CREATE TABLE POSTO(
ID_POSTO NUMBER(5) NOT NULL,
CNPJ NUMBER(20) NOT NULL,
NOME VARCHAR2(40) NOT NULL,
ENDERECO VARCHAR2(50) NOT NULL,
TELEFONE NUMBER(15) NOT NULL,
PRIMARY KEY (ID_POSTO));


CREATE TABLE ABASTECIMENTO(
ID_ABASTECIMENTO NUMBER(5) NOT NULL,
VALOR NUMBER(4) NOT NULL, 
LITROS NUMBER(4) NOT NULL,
ID_POSTO NUMBER(5) NOT NULL,
PRIMARY KEY (ID_ABASTECIMENTO),
FOREIGN KEY (ID_POSTO) REFERENCES POSTO);


CREATE TABLE MULTA (
ID_MULTA NUMBER(5) NOT NULL,
LOCALIDADE VARCHAR2(50) NOT NULL,
HORA VARCHAR2(6) NOT NULL, 
VALOR NUMBER(4) NOT NULL,
CNH NUMBER(20)NOT NULL,
PRIMARY KEY (ID_MULTA),
FOREIGN KEY (CNH) REFERENCES MOTORISTA);

CREATE TABLE OFICINA(
ID_OFICINA NUMBER(5) NOT NULL,
ENDERECO VARCHAR2(50) NOT NULL,
CNPJ NUMBER(20) NOT NULL,
NOME VARCHAR2(40) NOT NULL,
TELEFONE NUMBER(15) NOT NULL,
PRIMARY KEY (ID_OFICINA)); 


CREATE TABLE VEICULO(
RENAVAN NUMBER(15) NOT NULL,
MARCA VARCHAR2(15) NOT NULL,
MODELO VARCHAR2(15) NOT NULL,
ID_ABASTECIMENTO NUMBER(5)NOT NULL,
MULTA NUMBER(5) NOT NULL,
PRIMARY KEY (RENAVAN),
FOREIGN KEY (ID_ABASTECIMENTO) REFERENCES ABASTECIMENTO);


CREATE TABLE MANUTENCAO(
ID_MANUTENCAO NUMBER(5) NOT NULL,
DESCRICAO VARCHAR2(50)NOT NULL,
ID_OFICINA NUMBER(5) NOT NULL,
RENAVAN NUMBER(15) NOT NULL,
PRIMARY KEY (ID_MANUTENCAO),
FOREIGN KEY (ID_OFICINA) REFERENCES OFICINA,
FOREIGN KEY (RENAVAN) REFERENCES VEICULO);







